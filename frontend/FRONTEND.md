# 专利生成系统前端

## 技术栈

- **React 18** - 用户界面框架
- **Vite** - 快速构建工具
- **CSS3** - 样式和动画

## 快速开始

### 1. 安装依赖

```bash
cd frontend
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

前端将在 http://localhost:5173 启动

### 3. 构建生产版本

```bash
npm run build
```

构建文件将输出到 `dist/` 目录

## 功能特性

### 🔧 双模式处理

1. **异步模式 (推荐)**
   - 实时进度显示
   - 支持任务取消
   - 任务状态跟踪
   - 适合长时间运行的任务

2. **同步模式**
   - 等待任务完成
   - 简单一次性返回
   - 适合快速任务

### 📊 实时进度

- 进度条显示
- 状态消息更新
- 任务ID追踪
- 创建时间记录

### 🎨 用户界面

- 深色主题设计
- 响应式布局
- 实时状态更新
- 错误处理显示

## API 集成

前端与后端 API 完全集成：

### 异步 API
- `POST /api/generate/async` - 提交异步任务
- `GET /api/tasks/{taskId}` - 查询任务状态
- `POST /api/tasks/{taskId}/cancel` - 取消任务

### 同步 API
- `POST /api/generate` - 同步生成专利

## 配置选项

### 输入模式
- **代码分析**: 自动扫描和分析代码库
- **创意文本**: 基于用户描述生成专利

### 生成参数
- **迭代轮数**: 1-10轮 (默认3轮)
- **输出前缀**: 自定义文件名前缀
- **代码路径**: 相对路径 (默认"..")

## 开发说明

### 项目结构

```
frontend/
├── src/
│   ├── main.jsx          # 应用入口
│   ├── PatentApp.jsx     # 主应用组件
│   └── App.jsx           # 原始应用组件
├── public/
│   └── index.html        # HTML模板
├── style.css             # 全局样式
├── index.html            # 开发HTML
├── package.json          # 项目配置
└── vite.config.mjs       # Vite配置
```

### 组件说明

#### PatentApp.jsx
主应用组件，包含：
- 表单处理
- API 调用
- 状态管理
- 进度显示

#### 核心功能
1. **任务提交**: 处理表单提交和API调用
2. **状态轮询**: 定期查询异步任务状态
3. **进度显示**: 实时更新进度条和状态消息
4. **错误处理**: 友好的错误显示和用户反馈

### 样式系统

使用原生CSS，包含：
- 深色主题
- 响应式设计
- 进度条动画
- 加载状态效果

## 部署说明

### 开发环境

```bash
npm run dev
```

### 生产环境

1. 构建项目:
```bash
npm run build
```

2. 部署 `dist/` 目录到 Web 服务器

### 环境变量

前端不需要特殊环境变量，但确保后端 API 可访问。

## 故障排除

### 常见问题

1. **CSS 导入错误**
   - 确保 `style.css` 在正确位置
   - 检查导入路径

2. **API 连接错误**
   - 确保后端服务器运行在正确端口
   - 检查 CORS 配置

3. **构建错误**
   - 清除 node_modules 并重新安装
   - 检查 Node.js 版本 (推荐 16+)

### 调试技巧

1. **浏览器控制台**: 查看网络请求和错误
2. **React DevTools**: 调试组件状态
3. **Network 标签**: 检查 API 调用

## 性能优化

- 使用 React 18 的并发特性
- 组件懒加载 (如果需要)
- API 请求缓存
- 构建优化

## 浏览器支持

- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+

## 更新日志

### v1.0.0
- 初始版本
- 支持异步/同步模式
- 实时进度显示
- 深色主题界面